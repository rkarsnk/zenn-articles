---
title: "Proxmox VE 9.0 入門 第1回インストール"
emoji: "👌"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Proxmox VE"]
published: false
publication_name: gigooo_blog
---
# はじめに
同僚からProxmox VEについて知りたいという要望があったのでn番煎じな内容となりますが、Proxomox VEについて記事にしたいと思います。複数回に分けて書くことになりますが、Proxmox VE上にVMまたはLXCを導入して、その上にDockerを導入するところまで記事にしたいなと思っています。

Proxmox VEのインストールは、公式インストールISOを利用する方法と、Debian GNU/Linux (以下、Debianと記す)に追加でパッケージを導入する方法があります。この記事ではISOを利用する方法について触れます。

2025/08/10 時点では、Proxmox VEのベースはDebianの最新版である13(Trixie)になっています。

# 本記事の想定読者
- はじめてProxmox VEを使う方
- 手っ取り早く仮想化環境を体験したい方


{{< toc >}}


# ISOの入手
Proxmoxの公式サイトからダウンロードします。

以下のURLにアクセスすると、Proxmox VEの製品ページが開きます。ページ中の赤枠部分もしくは、上部のDownloadsからISOイメージのダウンロードページにアクセスできます。

```
https://www.proxmox.com/en/products/proxmox-virtual-environment/overview
```

実機PCにインストールする場合は、ダウンロードしたISOをUSBストレージに書き出してください。USBストレージへの書き出しには、[Rufus](https://rufus.ie/ja/) や [Raspberry Pi Imager](https://www.raspberrypi.com/software/)、[Ventoy](https://www.ventoy.net/en/index.html)などを使用してください。


# インストール
ここでは、スクリーンショットを取る関係で仮想マシン上にProxmox VEをインストールします。実機PCでも手順は同様ですので参考にしてください。

Proxmox VEの利用に必要なPCのスペックついては、以下のページに記載されているので、そちらを参照してください。

```
https://www.proxmox.com/en/products/proxmox-virtual-environment/requirements
```

## インストールイメージを起動
インストールイメージが書き込まれたUSBストレージを実機PCに取り付け、 USBストレージブートを実施してください。USBストレージが読み込まれると、図のようなブートローダ画面が表示されます。この記事ではGUI を用いてインストールするため、「Install Proxmox VE (Graphical)」を選択します。

## インストール先の選択
次に進むと、インストール先のストレージ装置を選択する画面が表示されます。

Proxmox VEのストレージ構成としては、ざっくりProxmoxVE システム用とVM/コンテナ用でストレージ装置を分けておくといいと思います。
ワタシの場合、実機PCでは ProxmoxVE システム用に NVMe SSD を割り当て、VM/コンテナ用に HDD を割り当てています。VMの起動を高速化したい場合はVM/コンテナ用に別途 SSD を割り当てるという方法もあります。

また、Proxmox VEではZFSを利用することができるので、複数のHDDを使ってZFSによる高可用ストレージを構築し、それをVM/コンテナ用ストレージに利用することも可能です。

どのような構成を採るにせよ、ProxmoxVE システム用とVM/コンテナ用で分けるのをオススメします。

ここでは 32GB の `/dev/sda` と256GBの `/dev/sdb` の仮想ディスクが事前に作成されており、`/dev/sda`をProxmox VE システム用として利用します。

## 管理者パスワードとEメールアドレスの設定
ここで設定するパスワードは rootユーザのパスワードになります。

Eメールアドレスの入力も必要になります。ここで設定したEメールアドレスはrootユーザに紐付けられます。

## ネットワーク設定
ここで設定するIPアドレスとホスト名は Proxmox VEへのSSHリモートログインや、ブラウザからの管理画面アクセス時に使用されます。

## 設定確認
これまで設定した内容に問題がないか確認します。この次からはインストール処理が開始されるため後戻りできません。間違いがあったら、戻って訂正してください。

この記事では、インストール完了後の自動再起動を防ぐため、`Automatic reboot after sucessful installation` のチェックボックスを外しています。

{{< figure src="/images/20250810/proxmoxve09_summary.png" alt="設定確認" >}}

## インストール完了
おつかれさまでした。これでProxmox VEのインストールが完了です。

再起動完了後、同一ネットワーク内のPCから記載されているURLにアクセスしてProxmox VEの管理画面を開いてください。

{{< figure src="/images/20250810/proxmoxve11_success.png" alt="インストール完了" >}}

# インストール完了後最初にやること
インストール直後、Proxmox VEのaptリポジトリ設定はSubscriptionが必要なエンタイープライズ向けリポジトリが有効になっています。検証・実験用途で利用する場合はSubscription不要な検証用途向けリポジトリに切り替える必要があります。以下ではその切り替え手順について説明します。

## ログイン
インストール時に設定したパスワードでログインしてください。user nameは`root` になります。

{{< figure src="/images/20250810/proxmoxve12_login.png" alt="" >}}

ログイン後、サブスクリプションについてのアラートが表示されます。有料サブスクリプションに登録していない場合に表示されます。検証用途での利用では特に問題がないので、無視してください。

## 対象サーバの選択
Proxmox VEの「サーバ表示」ツリーは、
```
データセンター
├── 物理サーバ ← Proxmox VEサーバ
    ├── 仮想マシン
    ├── Linuxコンテナ
    ├── ストレージ想定
    ...
...
```
のような階層構造で表現されます。

下図で選択されている `pve` はインストール時のネットワーク設定で記載したProxmox VEサーバのホスト名になります。

< figure src="/images/20250810/proxmoxve14_select_srv.png" alt="" width=300 >

## aptリポジトリの変更
次の手順を実施します。
1. Subscriptionが必要なエンタープライズ向けのリポジトリ(`ceph-squid`、`pve`)を無効にする
2. 「追加」からno-subscriptionである検証用途向けリポジトリ(`ceph-squid`、`pve`)を選択し追加する

「ノード 'pve'」 のメニューから「アップデート」→「リポジトリ」を選択します。

初期状態では下図のようになっています。赤枠部分がSubscriptionが必要なリポジトリとなっています。

< figure src="/images/20250810/proxmoxve15_apt_enterprise.png" alt="エンタープライズ用リポジトリ設定" >

上述の手順を実施後は、下図のようになります。赤枠の部分が無効化したエンタープライズ向けリポジトリで、青枠の部分が追加した検証用途向けリポジトリにあります

{{< figure src="/images/20250810/proxmoxve16_apt_no_subsc.png" alt="検証用リポジトリ設定" >}}

上記の設定が完了後は、「アップデート」からProxmox VEを最新の状態に更新してください。

# おわりに
この記事では、Proxmox VE 9.0.Xのインストール手順と検証用途向けのリポジトリ設定についてまとめました。次回以降の記事では、仮想マシン用ストレージ領域の設定と仮想マシンの導入についてまとめたいと思います。


